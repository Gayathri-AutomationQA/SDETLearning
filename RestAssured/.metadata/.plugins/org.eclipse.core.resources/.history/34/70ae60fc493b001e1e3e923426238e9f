package JiraAPI;

import org.hamcrest.Matchers;
import org.testng.annotations.Test;

import ServiceNow.BaseClass;
import io.restassured.RestAssured;
import io.restassured.response.Response;
import io.restassured.specification.RequestSpecification;

public class CreateBug extends BaseClass{

	@Test
	public void create() {


		RequestSpecification contentType = RestAssured.given()
		.contentType("application/json");
		
		Response response = RestAssured.given()
		.contentType("application/json")
		.when()
		.body({
		    "fields": {
		        "project": {
		            "key": "TES"
		        },
		        "summary": "create issue in RA project",
		        "description": "Creating of an issue using project keys and issue type names using the REST API",
		        "issuetype": {
		            "name": "Bug"
		        }
		    }
		}).when().post("rest/api/2/issue/");
		response.then().assertThat().statusCode(200);
		response.then().assertThat().body("result.short_description",Matchers.equalTo("Created via postman"));
	
	}
}


